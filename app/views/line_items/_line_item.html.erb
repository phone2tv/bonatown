<tr>
  <td><%= link_to line_item.id, line_item %></td>
  <td><%= link_to line_item.insurance.title, line_item.insurance.profile %></td>
  <td><%= link_to_if line_item.order.present?, (line_item.order.nil? ? '-' : line_item.order.id), line_item.order  %></td>
  <td><%= t('line_item.state.' + line_item.aasm_state) %></td>
  <td><%= line_item.price %></td>
  <td><%= line_item.quantity %></td>
  <td>
    <div><%= link_to_if line_item.may_commit?, t('line_item.action.commit'), commit_line_item_path(line_item), method: :put %></div>
    <div><%= link_to_if line_item.may_cancel?, t('line_item.action.cancel'), cancel_line_item_path(line_item), method: :put %></div>
    <div><%= link_to_if line_item.may_verify?, t('line_item.action.verify'), verify_line_item_path(line_item), method: :put %></div>
    <div><%= link_to_if line_item.may_quote?,  t('line_item.action.quote'), quote_line_item_path(line_item), method: :put %></div>
    <div><%= link_to_if line_item.may_reject?, t('line_item.action.reject'), reject_line_item_path(line_item), method: :put %></div>
    <div><%= link_to_if line_item.may_pay?,    t('line_item.action.pay'), pay_line_item_path(line_item), method: :put %></div>
    <div><%= link_to_if line_item.may_ship?,   t('line_item.action.ship'), ship_line_item_path(line_item), method: :put %></div>
  </td>
  <td><%= link_to 'Show', line_item %>
    / <%= link_to 'Edit', edit_line_item_path(line_item) %>
    / <%= link_to 'Destroy', line_item, method: :delete, data: { confirm: 'Are you sure?' } %></td>
</tr>
